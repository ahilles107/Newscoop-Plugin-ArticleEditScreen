"use strict";angular.module("authoringEnvironmentApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("authoringEnvironmentApp").controller("MainCtrl",["$scope",function(a){a.$on("$viewContentLoaded",function(){jQuery("#cs-specific").prependTo(".main-background-container")})}]),angular.module("authoringEnvironmentApp").controller("SfPanesCtrl",["$scope","$filter","panes",function(a,b,c){a.panes=c.query(),a.tabpaneIsOpen=function(c){return b("filter")(a.panes,{position:c,selected:!0,active:!0}).length>0},a.flipActive=function(c,d){angular.forEach(b("filter")(a.panes,{position:d,selected:!0,active:!0}),function(a){a.active=a!=c?!1:a.active}),c.active=!c.active}}]),angular.module("authoringEnvironmentApp").controller("PaneTopicsCtrl",["$scope",function(a){a.topics=[{id:0,text:"Foo",selected:!1},{id:1,text:"Bar",selected:!0},{id:2,text:"Baz",selected:!1},{id:3,text:"whatever",selected:!1},{id:4,text:"lekker boeiend",selected:!1},{id:5,text:"koekje",selected:!1},{id:6,text:"cookie",selected:!1},{id:7,text:"heee",selected:!1},{id:8,text:"naja",selected:!1}],a.chosenTopics=[],a.addTopic=function(){a.topics.push({text:a.topicText,selected:!1,id:a.topics[a.topics.length-1].id+1}),a.topicText=""},a.deleteTopic=function(b){a.topics.splice(a.topics.indexOf(b),1)},a.chooseTopic=function(a){a.selected=!0},a.deleteChTopic=function(a){a.selected=!1}}]),angular.module("authoringEnvironmentApp").factory("panes",function(){var a=[{name:"Topics",icon:"chat",template:"views/pane-topics.html",position:"left",active:!1,selected:!0}];return{query:function(){return a},active:function(a){a.active=!a.active}}}),angular.module("authoringEnvironmentApp").controller("PanesConfigCtrl",["$scope","panes",function(a,b){a.panes=b.query(),a.flipPosition=function(a){a.position="left"==a.position?"right":"left"}}]),angular.module("authoringEnvironmentApp").controller("ArticleCtrl",["$scope","$http","$location",function(a,b,c){var d,e,f;d=c.search(),e=d.f_article_number,void 0===e&&(e=64),f="http://tw-merge.lab.sourcefabric.org",f="",b.get(f+"/api/articles/"+e).success(function(c){b.get(f+"/api/articleTypes/"+c.type).success(function(b){a.type=b,a.article=c})}),a.editable=function(a){if(0==a.isContentField)return!1;var b=["text","long_text","body"];return-1==b.indexOf(a.type)?!1:!0}}]),angular.module("authoringEnvironmentApp").directive("aloha",["$location",function(a){function b(a){a.click(function(){return!1})}function c(c){b(c),$(c).on("click","a",function(b){var c=$(this).attr("href");(b.metaKey||b.ctrlKey)&&("/"===c.charAt(0)?(a.url(c),b.preventDefault()):window.location.href=c)})}function d(){Aloha.ready(function(){Aloha.bind("aloha-editable-activated",function(a,b){var c=b.editable;setTimeout(function(){c.obj.unbind("click.aloha-link.meta-click-link")},10)})})}return d(),{priority:-1e3,terminal:!0,link:function(a,b){Aloha.ready(function(){$(b).aloha(),a.$on("$destroy",function(){$(b).mahalo()})}),c(b)}}}]),angular.module("authoringEnvironmentApp").directive("sfAlohaFormatBold",function(){return{template:'<button class="btn action strong" rel="tooltip" title="Bold"><i class="editoricon-bold"></i></button>',restrict:"A",replace:!0,link:function(a,b){b.attr("disabled",Aloha.queryCommandSupported("bold")&&Aloha.queryCommandEnabled("bold")),b.bind("click",function(){Aloha.execCommand("bold",!1,"")})}}}),angular.module("authoringEnvironmentApp").directive("sfAlohaFormatItalic",function(){return{template:'<button class="btn  action emphasis" rel="tooltip" title="Italics"><i class="editoricon-italic"></i></button>',restrict:"A",replace:!0,link:function(a,b){b.attr("disabled",Aloha.queryCommandSupported("italic")&&Aloha.queryCommandEnabled("italic")),b.bind("click",function(){Aloha.execCommand("italic",!1,"")})}}}),angular.module("authoringEnvironmentApp").directive("sfAlohaFormatUnderline",function(){return{template:'<button class="btn  action underline" rel="tooltip" title="Underline"><i class="editoricon-underline"></i></button>',restrict:"A",replace:!0,link:function(a,b){b.attr("disabled",Aloha.queryCommandSupported("underline")&&Aloha.queryCommandEnabled("underline")),b.bind("click",function(){Aloha.execCommand("underline",!1,"")})}}});